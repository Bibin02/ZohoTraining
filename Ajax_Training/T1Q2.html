<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callback functions</title>
</head>
<body>
    <button onclick="operationSequence()">Call Callback functions</button>
    <div id="textbox">Displayable Text</div>

    <script>
		// Simulate an asynchronous operation with a callback
		function asyncOperation(name, delay, callback) {
			console.log(`Starting operation: ${name}`);
			setTimeout(() => {
				console.log(`Completed operation: ${name}`);
				document.getElementById("textbox").innerHTML += "<br/>"+`Completed operation: ${name}`
				callback(); // Call the callback function after the delay
			}, delay);
		}
		
		/* A Callback hell is a situation where 
		tracking and debugging a nested callback function becomes challenging.
		Example of callback hell
		*/
		function operationSequence() {
			asyncOperation('Task 1', 1000, () => {
				asyncOperation('Task 2', 1000, () => {
					asyncOperation('Task 3', 1000, () => {
						asyncOperation('Task 4', 1000, () => {
							asyncOperation('Task 5', 1000, () => {
								console.log('All operations completed');
							});
						});
					});
				});
			});
		}
    </script>
</body>
</html>