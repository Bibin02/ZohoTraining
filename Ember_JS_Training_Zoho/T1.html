<!DOCTYPE html>

<head>
<title>JS OOPS Tasks</title>

<style>
	div{
		padding: 2em;
		border: 3px solid gray;
		border-radius: 25px;
	}
	button{
		background-color: aliceblue;
		border-radius: 15px;
		padding: 1em;
		margin: 1.25em;
		font-size: 1em;
	}
	#pow-container{
		height : 500px;
		width: 300px;
		border: 3px solid greenyellow;
		
	}
	#message-box{
		font-size: 1.2em;
	}
</style>

</head>

<body>

<div>
	<button onclick="function1()" >Trigger Task 1</button>
	<div id="pow-container"><div id="message-box"> MESSAGE </div><img src="./pow.png" alt="POW"/>
		<button onclick="function2feed()" >Feed</button>
		<button onclick="function2play()" >Play</button>
		<button onclick="function2sleep()" >Sleep</button>
		<button onclick="function2cst()" >Status</button>
	</div>
	<button onclick="function3()" >Trigger Task 3</button>
	<!-- ignored due to CORS error -->
	<!-- <script type="module" src="./main.js"></script> -->
	
</div>
<script>

	class Person{
		constructor(name, age){
			// _attr for private attributes.
			this._name = name;
			this._age = age;
		}
		
		display(){
			console.log(` 
			Name is ${this._name} \nAge is ${this._age}`.trim())
		}
	}
	
	function function1(){
		console.log("From Function 1")
		
		let person1 = new Person("John Smith", "19");
		
		person1.display();
		
	}
	/*
	2.Write yourself a virtual cat - animals with a CLI are so much nicer than ones with fur.

	Create an object that represents a cat. It should have properties for tiredness, hunger, loneliness and happiness. Next, write methods that increase and decrease those properties. Call them something that actually represents what would increase or decrease these things, like "feed", "sleep", or "pet".

	Last, write a method that prints out the cat's status in each area. (Be creative e.g. Paws are really hungry, Paws is VERY happy.)

	Bonus: Make the functions take arguments that increase or decrease arbitrary amounts

	Bonus: Make the functions as arbitrary as cats are - sometimes make it so the cat doesn't want to be petted.
	*/
	
	var msgbox = document.getElementById("message-box")
	
	class Cat{
		constructor(name){
			// _attr for private attributes.
			this._name = name;
			// tiredness, hunger, loneliness and happiness
			this._sleep = 100;
			this._food = 100;
			this._lone = 0;
			this._happy = 100;
		}
		
		catStatus(){
			let msg = "Vanakam da mapla Theni la irunthu...."
			console.log(`${this._name} says : ${msg}`)
			msgbox.innerHTML = `${this._name} says : ${msg}`
		}
		
		feed(){
			if(!this.isFull(this._food)){
				console.log(`Feeding the ${this._name}....`)
				msgbox.innerHTML = `Feeding the ${this._name}....`
				this._food += 10;
				this._happy += 5;
				this._sleep -= 5;
			}
			else{
				console.log("My stomach is Full..")
				msgbox.innerHTML = "My stomach is Full.."
			}
				
		}
		
		play(){
			console.log(`Playing with the ${this._name}....`)
			msgbox.innerHTML = `Playing with the ${this._name}....`
			this._happy += 5;
			this._sleep -= 20;
			this._food -= 10;
			this._lone -= this._lone <= 0 ? 0 : 5 ;
		}
		
		sleep(){
			if(!this.isFull(this._sleep)){
				console.log(`Now ${this._name} is sleeping....`)
				msgbox.innerHTML = `Now ${this._name} is sleeping....`
				this._sleep = 100;
				this._lone += 20;
				this._happy += 20;
				this._food -= 5;
			}
			else {
				console.log("I'm Fresh Today..")
				msgbox.innerHTML = "I'm Fresh Today.."
			}
		}
		
		isFull(num){
			return num >= 100;
		}
		
	}
	
	var cat1 = new Cat("POW");
		
	function function2cst(){
		cat1.catStatus()
	}
	function function2feed(){
		cat1.feed()
	}
	function function2play(){
		cat1.play()
	}
	function function2sleep(){
		cat1.sleep()
	}

	function function3(){
		console.log("From Function 3")
	}
</script>
</body>

</html>